"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = exports.onPreBootstrap = void 0;

var _fsExtra = _interopRequireDefault(require("fs-extra"));

var onPreBootstrap = function onPreBootstrap(_ref) {
  var store = _ref.store,
      reporter = _ref.reporter;
  var activity = reporter.activityTimer('@igorko: copy redirect component');
  activity.start();
  var program = store.getState().program;
  var module = "\n      const { Redirect } = require('gatsby-i18n');\n      module.exports = Redirect;\n  ";
  var dir = "".concat(program.directory, "/.cache/@igorko");

  if (!_fsExtra.default.existsSync(dir)) {
    _fsExtra.default.mkdirSync(dir);
  }

  _fsExtra.default.writeFileSync("".concat(dir, "/redirect.js"), module);

  activity.end();
};

exports.onPreBootstrap = onPreBootstrap;
var _default = onPreBootstrap;
exports.default = _default;